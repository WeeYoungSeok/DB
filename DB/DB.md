# DB

테이블의 기본 명칭 : Entity(table name)

테이블에서의 행들의 집합 : Tuple(row)

테이블에서의 열들의 집합 : colunm(attribute)

| EMPNO | ENAME  | JOB  | SAL  |
| ----- | ------ | ---- | ---- |
| 2011  | 홍길동 | 개발 | 2000 |
| 2012  | 이순신 | 개발 | 1800 |

맨위의 줄을 컬럼명들의 집합이라고도 부른다.

컬럼은 튜플이 없을 경우 곧 컬럼명이되고 튜플이 존해하면 컬럼명 + 값들의 집합이 컬림이다.



#### 용어

Entity : 데이터로 관리하려고 하는 객체

속성 : 연관된 Entity의 특성



키의 종류

후보키(Candidate Key)

- 테이블에서 유일성과 최소성을 만족하는 키

기본키(Primary Key)

- 후보키 중에서 선정되어 사용되는 키

대체키(Alternate Key)

- 후보키 중 기본키로 선택되지 않는 나머지 키

슈퍼키(Super Key)

- 복합키(Composite Key)또는 연결키

외래키(Foreign Key)

- 어떤 열이 다른 참조 테이블의 기본키

```sql
SELECT EMPNO,ENAME,DEPTNO
FROM EMP,DEPT;
```

EMP테이블에서 기본키가 EMPNO이고 DEPT테이블에서 기본키는 DEPTNO이다.

EMP테이블에 DEPT테이블의 기본키인 DEPTNO는 EMP테이블에서 외래키이다.



### 정규화

1NF

- 컬럼의 중복 값 분리

2NF

- 기본키에 종속적이지 않은 컬럼 분리

3NF

- 기본키를 제외한 나머지 컬럼들 간의 종속 불가

BCNF

- 기본키가 여러 개 존재할 경우, 복합키로

4NF

- 다치종속 제거. (컬럼 A -> B + C : A -> B / A -> C)

5NF

- 조인 종속성 이용. 조인이 후보키를 통해서만 성립이 되도록



### 트랜잭션

DB를 변화시키기 위한 최소한의 수행 단위



특징

- 원자성 : 모두 반영, 아니면 이전 상태 (ALL OR NOTHING)
- 일관성 : 실행 이전과 실행 이후가 일관적이어야 한다.
- 고립성 : 실행 도중 다른 트랜잭션의 영향을 받으면 안된다.
- 지속성 : 성공하면 결과가 영구적 반영

EX) 은행의 계좌이체

- A가 B에게 100만원 입금하면 A계좌에서 100만원이 빠지고 B에게 100만원이 입금됨
- 이거 자체가 트랜잭션,  A통장에서 100만원이 -100만원 됐는데 B에게 입금이 안될경우
- A에게 다시 100만원이 돌아와야함(원자성)
- A가 100만원을 입금했으면 꼭 B에게도 100만원이 입금되어야함(일관성)
- A가 100만원을 입금한 뒤 30분뒤에 B통장에서 100만원이 사라지거나 하면 안됨(지속성)
- A가 B에게 입금할때 오류가 발생하거나 다른사람에게 입금이 되면 안됨(고립성)






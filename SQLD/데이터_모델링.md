### 데이터 모델링

- 정의

  > 데이터 모델링은 현실세계를 추상화한 것이다.
  >
  > 데이터 모델링하기 위해서는 고객과의 의사소통을 통해햐한다.
  >
  > 데이터 모델링 표기법을 사용해서 모델링을 한다.
  >
  > 고객이 이해하기 쉽도록 복잡하기 않게 해야한다.

<br/>

- 특징

|          특징          |                            설명                             |
| :--------------------: | :---------------------------------------------------------: |
|  추상화(Abstraction)   |                현실세계를 간략하게 표현한다.                |
| 단순화(Simplification) |           누구나 쉽게 이해할 수 있도록 표현한다.            |
|    명확성(Clarity)     | 명확하게 의미가 해석되어야 하고 한 가지 의미를 가져야 한다. |

<br/>

- 단계

  > 개념적 모델링, 논리적 모델링, 물리적 모델링으로 이루어짐

| 데이터 모델  단계 |                             설명                             |
| :---------------: | :----------------------------------------------------------: |
|   개념적 모델링   | **전사적 관점**에서 기업의 데이터를 모델링한다.<br />**추상화 수준이 가장 높은 수준의 모델링**이다.<br />계층형 데이터 모델, 네트워크 모델, 관계형 모델에 관계없이 **업무 측면에서 모델링** 한다. |
|   논리적 모델링   | 특정 데이터베이스 모델에 종속한다.<br />식별자를 정의하고 관계 속성 등을 모두 표현한다.<br />정규화를 통해서 **재사용성을 높인다.** |
|   물리적 모델링   | 구축할 데이터베이스 관리 시스템에 테이블, 인덱스 등을 생성하는 단계이다.<br />**성능, 보안, 가용성 등을 고려하여 데이터베이스를 구축**한다. |

<br/>

- 관점

|   관점(View)    |                             설명                             |
| :-------------: | :----------------------------------------------------------: |
|     데이터      | 비지니스 프로세스에서 사용되는 데이터를 의미한다.<br />구조 분석, 정적 분석 |
|    프로세스     | 비지니스 프로세스에서 수행하는 작업을 의미한다.<br />시나리오 분석, 도메인 분석, 동적 분석 |
| 데이터 프로세스 | 프로세스 데이터 간의 관계를 의미한다.<br />CRUD(Create, Read, Update, Delete) 분석 |

<br/>

##### ERD 작성 절차

- 엔티티를 도출한다.

  > 업무에서 관리해야 하는 집합 도출

- 엔티티를 배치한다.

  > 도출 후 엔티티 배치 (중요한 엔티티 왼쪽 상단 배치)

- 엔티티간의 관계를 설정한다.

- 관계명을 서술한다.

  > 엔티티 간의 어떤 행위나 존재가 있는지 표현

- 관계 참여도를 표현한다.

  > 한 개의 엔티티와 다른 엔티티 간의 참여하는 관계 수를 의미
  >
  > ex) 고객이 여러개의 계좌를 개설할 수 있음

- 관계의 필수 여부를 포현

  > 필수는 반드시 존재해야 하는 것
  >
  > ex) 모든 고객은 반드시 하나의 계좌를 개설해야 함

<br/>

##### ERD 작성시 고려사항

> 중요한 엔티티는 왼쪽 상단 배치
>
> 이해하기 쉽고 복잡하지 않게 설계

<br/><br/>

### 데이터 모델링 고려사항

- 데이터 모델의 독립성

  > 고객의 업무 변화에 능동적으로 대응할 수 있어야함
  >
  > 중복된 데이터를 제거 (방법으로는 정규화가 있음)

- 고객 요구사항의 표현

  > 고객과의 의사소통을 할 수 있어야 하므로 고객의 요구사항을 간결하고 명확하게 표현

- 데이터 품질 확보

  > 데이터 표준을 정의하고 표준 준수율을 관리
  >
  > 데이터 표준을 확보해야 데이터 품질 향상 가능

<br/>

### 3층 스키마

- 정의

  > 사용자, 설계자, 개발자가 데이터베이스를 보는 관점에 따라 데이터베이스를 기술하고 이들간의 관계를 정의한 ANSI 표준이다.
  >
  > 3층 스키마는 데이터베이스의 독립성을 확보하기 위한 방법
  >
  > 데이터의 독립성을 확보하면 복잡도 증가, 중복 제거, 사용자 요구사항 변경에 따른 대응력 향상, 관리 및 유지보수 비용 절감등 장점을 갖음
  >
  > 3단계 계층으로 분리하고 독립성 확보 방법으로 각 계층을 뷰(View)라고도 함

<br/>

- 3층 스키마의 독립성

|    독립성     |                             설명                             |
| :-----------: | :----------------------------------------------------------: |
| 논리적 독립성 | 개념 스키마가 변경되더라도 외부 스키마가 영향을 받지 않는 것이다. |
| 물리적 독립성 | 외부 스키마가 변경되더라도 개념 스키마가 영향을 받지 않는 것이다. |

<br/>

- 3층 스키마의 구조

|              구조              |                             설명                             |
| :----------------------------: | :----------------------------------------------------------: |
|  외부 스키마(External Schema)  | 사용자 관점 업무상 관련이 있는 데이터 접근이다.<br />관련 데이터베이스의 뷰(View)를 표시한다.<br />**응용 프로그램이 접근하는 데이터베이스**를 정의한다. |
| 개념 스키마(Conceptual Schema) | 설계자 관점, 사용자 전체 집단의 데이터베이스 구조.<br/>전체 데이터베이스 내의 규칙과 구조를 표현한다.<br />**통합 데이터베이스 구조**이다. |
|  내부 스키마(Internal Schema)  | 개발자 관점, 데이터베이스의 **물리적 저장 구조**이다.<br />데이터 저장 구조,레코드 구조, 필드 정의, 인덱스 등을 의미 |

<br/>

### 엔티티(Entity)

- 정의

  > 엔티티는 업무에서 관리해야 하는 데이터 집합을 의미
  >
  > 저장되고 관리되어야 하는 데이터
  >
  > 개념, 사건, 장소 등의 명사

<br/>

- 엔티티의 의미

| 인물                | 엔티티의 의미                                              |
| ------------------- | ---------------------------------------------------------- |
| Peter Chen(1976)    | 엔티티는 변별할 수 있는 사물이다.                          |
| James Martin(1989)  | 정보를 저장할 수 있는 어떤 것이다.                         |
| C,J Data(1986)      | 데이터베이스 내부에서 변별 가능한 객체이다.                |
| Thomas Brucel(1992) | 정보가 저장될 수 있는 장소, 사람, 사건, 개념, 물건 등이다. |

<br/>

- 엔티티(Entity) 도출

  > 엔티티는 고객의 비지니스 프로세스에서 관리되어야 하는 정보를 추출해야함.

<br/>

- 엔티티 도출의 예시

> 1. 고객이 회원가입을 한다. 회원으로 가입할 때는 회원ID, 패스워드, 이름, 주소, 전화번호 등을 입력 해야한다.
> 2. 회원으로 가입하기 위해서는 반드시 하나의 계좌를 개설해야 한다.
> 3. 고객은 계좌를 여러 개 개설할 수 있다.
> 4. 계좌를 개절할 때는 계좌번호, 계좌명, 예수금, 계좌개설 지전, 계좌담당자가 입력된다.
>
> **위의 시나리오에서 엔티티를 도출하면 고객과 계좌의 엔티티가 도출된다.**

<br/>

- 엔티티(Entity) 특징

|  엔티티 특징  |                             설명                             |
| :-----------: | :----------------------------------------------------------: |
|    식별자     | 엔티티는 **유일한 식별자**가 있어야 한다.<br />ex) 회원ID, 계좌번호 |
| 인스턴스 집합 | **2개 이상의 인스턴스**가 있어야 한다.<br />즉, 고객정보는 2명 이상 있어야 한다. |
|     속성      | 엔티티는 **반드시 속성**을 가지고 있다.<br />ex) 고객 엔티티에 회원ID, 패스워드, 이름, 주소, 전화번호 |
|     관계      | 엔티티는 **다른 엔티티와 최소한 한 개 이상 관계**가 있어야 한다.<br />ex) 고객은 계좌를 개설한다. |
|     업무      | 엔티티는 **업무에서 관리되어야 하는 집합**이다.<br />ex) 고객, 계좌 |

<br/>

***릴레이션과 테이블은 같은 의미, 릴레이션에 기본키 및 제약조건 설정시 테이블이 됨***

***단, Relationship은 릴레이션 간의 관계를 의미***

***인스턴스는 릴레이션이 가질 수 있는 값을 의미, 간단히 말하면 행의 수를 의미***

<br/>

### 엔티티(Entity) 종류

- 종류

  > 유형과 무형에 따른 종류, 엔티티가 발생하는 시점에 따른 종류로 나누어짐
  >
  > 유형과 무형의 기준은 물리적 형태의 존재 여부이다.

<br/>

- 유형과 무형에 따른 엔티티 종류

| 종류        |                             설명                             |
| ----------- | :----------------------------------------------------------: |
| 유형 엔티티 | 업무에서 도출되며 **지속적으로 사용되는 엔티티**이다.<br />ex) 고객, 강사, 사원 등 |
| 개념 엔티티 | **유형 엔티티는 물리적 형태가 있지만, 개념 엔티티는 물리적 형태가 없다.**<br />개념적으로 사용되는 엔티티이다.<br />ex) 거래소 종목, 코스닥 종목, 생명보험 상품 |
| 사건 엔티티 | **비지니스 프로세스를 실행하면서 생성되는 엔티티**이다.<br />ex) 주문, 체결, 취소주문, 수수료 청구 등 |

<br/>

- 발생 시점에 따른 엔티티 종류

|            종류            |                             설명                             |
| :------------------------: | :----------------------------------------------------------: |
| 기본 엔티티(Basic Entity)  | 키 엔티티라고도 한다.<br />다른 엔티티로부터 영향을 받지 않고 독립적으로 생성되는 엔티티<br />ex) 고객, 상품, 부서 등 |
|  중심 엔티티(Main Entity)  | 기본 엔티티와 행위 엔티티 간의 중간에 있는 것이다.<br />즉, 기본 엔티티로부터 발생되고 행위 엔티티를 생성하는 것이다.<br />ex) 계좌, 주문, 취소, 체결 등 |
| 행위 엔티티(Active Entity) | 2개 이상의 엔티티로부터 발생한다.<br />ex) 주문 이력, 체결 이력 등 |

